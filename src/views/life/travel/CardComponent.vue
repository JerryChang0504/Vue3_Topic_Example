<template>
   <div
    class="card"
    :class="{ active: isActive }"
    @click="toggleDetails"
  >
    <img :src="imageUrl" :alt="title" />
    <h3>{{ title }}</h3>
    <p>{{ description }}</p>
    <button>é¡¯ç¤ºè©³æƒ…</button>
  </div>
</template>

<script setup>
import {ref, watch}from 'vue'

// âœ… æ¥æ”¶ props
const props = defineProps({
  imageUrl: String,
  title: String,
  description: String,
  details:String,
  modelValue: Boolean // ç”¨ v-model å‚³é€²ä¾†çš„ active ç‹€æ…‹
})

// âœ… å®šç¾© emit
const emit = defineEmits(['card-clicked'])


const showDetails = ref(false)

// âœ… ç•¶å¡ç‰‡è¢«é»æ“Šï¼Œå‘çˆ¶å…ƒä»¶ç™¼é€äº‹ä»¶
function toggleDetails() {
  emit('card-clicked') // é€šçŸ¥çˆ¶å…ƒä»¶
  showDetails.value = !showDetails.value
}

// watch(showDetails, (val) => {
//   console.log(val ? `âœ… å±•é–‹ï¼š${props.title}` : `â æ”¶èµ·ï¼š${props.title}`)
// })
</script>

<style scoped>
.card {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  width: 280px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
}
.card img {
  width: 100%;         /* å¯¬åº¦100% */
  height: 200px;       /* å›ºå®šé«˜åº¦ */
  object-fit: cover;   /* â­ï¸ è‡ªå‹•è£åˆ‡åœ–ç‰‡å¡«æ»¿ï¼Œä¸è®Šå½¢ */
  border-bottom: 1px solid #eee;
}
.card.active {
  background-color: #fffbe0; /* ğŸŒ• æ·¡é»ƒè‰²ï¼Œè¡¨ç¤ºå·²é»æ“Š */
}
.card button {
  margin-top: 10px;
  background-color: #345678;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
}
/* æµ®èµ·æ•ˆæœï¼šhover */
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

/* æµ®èµ·æ•ˆæœï¼šé»æ“Šä¸­ */
.card:active {
  transform: scale(0.98);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* é¡¯ç¤ºè©³æƒ…æ™‚å¼·èª¿å¡ç‰‡ */
.card.active {
  border: 2px solid #1e3d58;
}
</style>
